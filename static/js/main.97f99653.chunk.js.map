{"version":3,"sources":["store/configureStore.js","store/historyCreator.js","store/siteDrawer.js","store/modal.js","components/Link.js","components/DrawerLink.js","components/ModalLink.js","context/NavContext.js","context/InPageCtx.js","context/DrawerCtx.js","context/ModalCtx.js","pages/HomePage.js","context/NestedCtx.js","pages/AboutPage.js","components/Route.js","components/SiteDrawer.js","components/Modal.js","App.js","index.js"],"names":["store","prefix","actions","createActions","PUSH_STATE","path","POP_STATE","REPLACE_STATE","initialState","history","reducer","handleActions","pushState","state","payload","title","isOpen","popState","length","item","slice","replaceState","historyCreator","rootReducer","combineReducers","modal","siteDrawer","composeEnhancers","compose","Link","to","children","replace","action","style","onClick","props","triggerAction","e","cursor","onMouseUp","button","onTouchEnd","onKeyDown","key","which","isEnterKey","isSpaceKey","tabIndex","role","DrawerLink","connect","push","_","ModalLink","NavContext","React","createContext","value","PageLink","setLocationHref","window","location","hash","InPageCtx","Provider","SiteDrawerCtx","dispatch","useDispatch","useRef","current","ModalCtx","HomePage","ctx","useContext","NestedCtx","InnerAbout","AboutPage","Route","Element","component","activePath","match","matchPath","DrawerRoute","ModalRoute","SiteDrawer","className","Modal","createStore","App","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.97f99653.chunk.js","sourcesContent":["import { createStore, compose, combineReducers } from 'redux';\r\nimport siteDrawer from './siteDrawer';\r\nimport modal from './modal';\r\n\r\nconst rootReducer = combineReducers({\r\n\tmodal,\r\n\tsiteDrawer,\r\n});\r\n\r\nlet composeEnhancers = compose;\r\nlet store;\r\n\r\n/* eslint-disable no-underscore-dangle */\r\nif (process.env.NODE_ENV !== 'production') {\r\n\tcomposeEnhancers =\r\n\t\ttypeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n\t\t\t? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({ trace: true })\r\n\t\t\t: compose;\r\n}\r\n\r\nexport default (initialState = {}) => {\r\n\tif (!store) {\r\n\t\tstore = createStore(rootReducer, initialState, composeEnhancers());\r\n\t}\r\n\r\n\treturn store;\r\n};\r\n","import { createActions, handleActions } from 'redux-actions';\r\n\r\nexport default function (prefix) {\r\n\tconst actions = createActions(\r\n\t\t{\r\n\t\t\tPUSH_STATE: (path) => ({ path }),\r\n\t\t\tPOP_STATE: () => ({}),\r\n\t\t\tREPLACE_STATE: (path) => ({ path }),\r\n\t\t},\r\n\t\t{ prefix }\r\n\t);\r\n\r\n\tconst initialState = {\r\n\t\tpath: '',\r\n\t\thistory: [],\r\n\t};\r\n\r\n\tconst reducer = handleActions(\r\n\t\t{\r\n\t\t\t[actions.pushState]: (state, { payload }) => ({\r\n\t\t\t\tpath: payload.path,\r\n\t\t\t\ttitle: payload.title || state.title,\r\n\t\t\t\tisOpen: payload.isOpen,\r\n\t\t\t\thistory: [...state.history, payload.path],\r\n\t\t\t}),\r\n\t\t\t[actions.popState]: (state) => {\r\n\t\t\t\tif (state.history.length <= 1) {\r\n\t\t\t\t\treturn initialState;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst item = state.history[state.history.length - 2];\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...item,\r\n\t\t\t\t\thistory: state.history.slice(0, state.history.length - 1),\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\t[actions.replaceState]: (state, { payload }) => ({\r\n\t\t\t\tpath: payload.path,\r\n\t\t\t\thistory: [...state.history.slice(0, state.history.length - 1), payload.path],\r\n\t\t\t}),\r\n\t\t},\r\n\t\tinitialState\r\n\t);\r\n\r\n\treturn { reducer, actions };\r\n}\r\n","import historyCreator from './historyCreator';\r\n\r\nconst { reducer, actions } = historyCreator('@SiteDrawer');\r\n\r\nexport const { pushState, popState, replaceState } = actions;\r\n\r\nexport const syncActions = actions;\r\n\r\nexport default reducer;\r\n","import historyCreator from './historyCreator';\r\n\r\nconst { reducer, actions } = historyCreator('@Modal');\r\n\r\nexport const { pushState, popState, replaceState } = actions;\r\n\r\nexport const syncActions = actions;\r\n\r\nexport default reducer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst isEnterKey = (e) => e.key === 'Enter' || e.which === 13;\r\nconst isSpaceKey = (e) => e.key === ' ' || e.which === 32;\r\n\r\nexport const Link = ({ to, title, replace, children, action, style, onClick, ...props }) => {\r\n\tconst triggerAction = (e) => {\r\n\t\taction(to, title);\r\n\r\n\t\tif (typeof onClick === 'function') {\r\n\t\t\tonClick(e);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<a\r\n\t\t\t{...props}\r\n\t\t\tstyle={{ ...style, cursor: 'pointer' }}\r\n\t\t\tonMouseUp={(e) => {\r\n\t\t\t\t// Handle middle-mouse click, as it is treated as open in a new tab\r\n\t\t\t\t// 0 = mouse down, 1 = middle down\r\n\t\t\t\tif (e.button === 1 || e.button === 0) {\r\n\t\t\t\t\ttriggerAction(e);\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tonTouchEnd={triggerAction}\r\n\t\t\tonKeyDown={(e) => {\r\n\t\t\t\tif (isEnterKey(e) || isSpaceKey(e)) {\r\n\t\t\t\t\ttriggerAction(e);\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\ttabIndex=\"0\"\r\n\t\t\trole=\"link\"\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</a>\r\n\t);\r\n};\r\n\r\nexport const propTypes = (Link.propTypes = {\r\n\tto: PropTypes.string.isRequired,\r\n\ttitle: PropTypes.string,\r\n\treplace: PropTypes.bool,\r\n\tchildren: PropTypes.any,\r\n\taction: PropTypes.func,\r\n\tonClick: PropTypes.func,\r\n\tstyle: PropTypes.object,\r\n});\r\n\r\nexport default Link;\r\n","import { connect } from 'react-redux';\r\nimport { pushState, replaceState } from '../store/siteDrawer';\r\nimport Link from './Link';\r\n\r\nexport const DrawerLink = connect(\r\n\tnull,\r\n\t{\r\n\t\tpush: pushState,\r\n\t\treplace: replaceState,\r\n\t},\r\n\t(_, { push, replace }, props) => ({\r\n\t\t...props,\r\n\t\taction: props.replace ? replace : push,\r\n\t})\r\n)(Link);\r\n\r\nexport default DrawerLink;\r\n","import { connect } from 'react-redux';\r\nimport { pushState, replaceState } from '../store/modal';\r\nimport Link from './Link';\r\n\r\nexport const ModalLink = connect(\r\n\tnull,\r\n\t{\r\n\t\tpush: pushState,\r\n\t\treplace: replaceState,\r\n\t},\r\n\t(_, { push, replace }, props) => ({\r\n\t\t...props,\r\n\t\taction: props.replace ? replace : push,\r\n\t})\r\n)(Link);\r\n\r\nexport default ModalLink;\r\n","import React from 'react';\r\n\r\nconst warnDev = (fn) => () => {\r\n\tif (process.env.NODE_ENV !== 'production') {\r\n\t\t// eslint-disable-next-line no-console\r\n\t\tconsole.warn(`[NavContext]: Function ${fn} not implemented in this context!`);\r\n\t}\r\n};\r\n\r\nexport const NavContext = React.createContext({\r\n\tvalue: '',\r\n\tLink: warnDev('Link'),\r\n\tPageLink: warnDev('PageLink'),\r\n\tDrawerLink: warnDev('DrawerLink'),\r\n\tModalLink: warnDev('ModalLink'),\r\n\tpush: warnDev('push'),\r\n\treplace: warnDev('replace'),\r\n});\r\n\r\nexport default NavContext;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport DrawerLink from '../components/DrawerLink';\r\nimport ModalLink from '../components/ModalLink';\r\nimport NavContext from './NavContext';\r\n\r\nconst setLocationHref = (value) => {\r\n\twindow.location.hash = value;\r\n};\r\n\r\nconst value = {\r\n\tvalue: 'InPage',\r\n\tLink,\r\n\tpush: setLocationHref,\r\n\treplace: setLocationHref,\r\n\tDrawerLink,\r\n\tModalLink,\r\n\tPageLink: Link,\r\n};\r\n\r\nexport const InPageCtx = ({ children }) => (\r\n\t<NavContext.Provider value={value}>{children}</NavContext.Provider>\r\n);\r\n\r\nInPageCtx.propTypes = {\r\n\tchildren: PropTypes.any,\r\n};\r\n\r\nexport default InPageCtx;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport DrawerLink from '../components/DrawerLink';\r\nimport ModalLink from '../components/ModalLink';\r\nimport { pushState, replaceState } from '../store/siteDrawer';\r\nimport NavContext from './NavContext';\r\n\r\nexport const SiteDrawerCtx = ({ children }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst value = React.useRef({\r\n\t\tvalue: 'SiteDrawer',\r\n\t\tLink: DrawerLink,\r\n\t\tDrawerLink,\r\n\t\tModalLink,\r\n\t\tPageLink: Link,\r\n\t\tpush: (...args) => dispatch(pushState(...args)),\r\n\t\treplace: (...args) => dispatch(replaceState(...args)),\r\n\t});\r\n\r\n\treturn <NavContext.Provider value={value.current}>{children}</NavContext.Provider>;\r\n};\r\n\r\nSiteDrawerCtx.propTypes = {\r\n\tchildren: PropTypes.any,\r\n};\r\n\r\nexport default SiteDrawerCtx;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport DrawerLink from '../components/DrawerLink';\r\nimport ModalLink from '../components/ModalLink';\r\nimport { pushState, replaceState } from '../store/modal';\r\nimport NavContext from './NavContext';\r\n\r\nexport const ModalCtx = ({ children }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst value = React.useRef({\r\n\t\tvalue: 'Modal',\r\n\t\tLink: ModalLink,\r\n\t\tDrawerLink,\r\n\t\tModalLink,\r\n\t\tPageLink: Link,\r\n\t\tpush: (...args) => dispatch(pushState(...args)),\r\n\t\treplace: (...args) => dispatch(replaceState(...args)),\r\n\t});\r\n\r\n\treturn <NavContext.Provider value={value.current}>{children}</NavContext.Provider>;\r\n};\r\n\r\nModalCtx.propTypes = {\r\n\tchildren: PropTypes.any,\r\n};\r\n\r\nexport default ModalCtx;\r\n","import React from 'react';\r\nimport { NavContext } from './../context/NavContext';\r\n\r\nexport default function HomePage() {\r\n\tconst ctx = React.useContext(NavContext);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Home Page!</h1>\r\n\t\t\t<p>\r\n\t\t\t\tCurrent context: <strong>{ctx.value}</strong>\r\n\t\t\t</p>\r\n\t\t\t<h3>Actions</h3>\r\n\t\t\t<p>\r\n\t\t\t\t<ctx.Link to=\"/about\">Open /about in Current Context</ctx.Link>\r\n\t\t\t\t<br />\r\n\t\t\t\t<ctx.DrawerLink to=\"/about\">Open /about in Drawer</ctx.DrawerLink>\r\n\t\t\t\t<br />\r\n\t\t\t\t<ctx.ModalLink to=\"/about\">Open /about in Modal</ctx.ModalLink>\r\n\t\t\t\t<br />\r\n\t\t\t\t<ctx.PageLink to=\"/about\">Open /about in Page</ctx.PageLink>\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport NavContext from './NavContext';\r\n\r\nexport const NestedCtx = ({ children }) => {\r\n\tconst ctx = React.useContext(NavContext);\r\n\tconst value = React.useRef({\r\n\t\t...ctx,\r\n\t\tvalue: `Nested parent value: ${ctx.value}`,\r\n\t});\r\n\r\n\treturn <NavContext.Provider value={value.current}>{children}</NavContext.Provider>;\r\n};\r\n\r\nNestedCtx.propTypes = {\r\n\tchildren: PropTypes.any,\r\n};\r\n\r\nexport default NestedCtx;\r\n","import React from 'react';\r\nimport NavContext from './../context/NavContext';\r\nimport NestedCtx from './../context/NestedCtx';\r\n\r\nfunction InnerAbout() {\r\n\tconst ctx = React.useContext(NavContext);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>This is a nested context</h3>\r\n\t\t\t<p>{ctx.value}</p>\r\n\t\t\t<p>\r\n\t\t\t\tThe context attributes are inherited in &lt;NestedCtx /&gt; -{' '}\r\n\t\t\t\t<ctx.Link to=\"/\">Link example</ctx.Link>\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default function AboutPage() {\r\n\tconst ctx = React.useContext(NavContext);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>About Page!</h1>\r\n\t\t\t<p>\r\n\t\t\t\tCurrent context: <strong>{ctx.value}</strong>\r\n\t\t\t</p>\r\n\t\t\t<h3>Actions</h3>\r\n\t\t\t<p>\r\n\t\t\t\t<ctx.Link to=\"/\">Open / in Current Context</ctx.Link>\r\n\t\t\t\t<br />\r\n\t\t\t\t<ctx.DrawerLink to=\"/\">Open / in Drawer</ctx.DrawerLink>\r\n\t\t\t\t<br />\r\n\t\t\t\t<ctx.ModalLink to=\"/\">Open / in Modal</ctx.ModalLink>\r\n\t\t\t\t<br />\r\n\t\t\t\t<ctx.PageLink to=\"/\">Open / in Page</ctx.PageLink>\r\n\t\t\t</p>\r\n\t\t\t<NestedCtx>\r\n\t\t\t\t<InnerAbout />\r\n\t\t\t</NestedCtx>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { matchPath } from 'react-router';\r\n\r\nconst Route = ({ component: Element, path, activePath, ...props }) => {\r\n\tconst match = matchPath(activePath, {\r\n\t\tpath,\r\n\t\t...props,\r\n\t});\r\n\r\n\treturn match ? <Element match={match} /> : null;\r\n};\r\n\r\nRoute.propTypes = {\r\n\tcomponent: PropTypes.func,\r\n\tpath: PropTypes.string,\r\n\tactivePath: PropTypes.string,\r\n};\r\n\r\nexport const DrawerRoute = connect((state) => ({ activePath: state.siteDrawer?.path }))(Route);\r\n\r\nexport const ModalRoute = connect((state) => ({ activePath: state.modal?.path }))(Route);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nexport function SiteDrawer({ children }) {\r\n\treturn <div className=\"SiteDrawer\">{children}</div>;\r\n}\r\n\r\nexport default connect((state) => state.siteDrawer)(SiteDrawer);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nexport function Modal({ children }) {\r\n\treturn <div className=\"Modal\">{children}</div>;\r\n}\r\n\r\nexport default connect((state) => state.modal)(Modal);\r\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport createStore from './store/configureStore';\nimport InPageCtx from './context/InPageCtx';\nimport SiteDrawerCtx from './context/DrawerCtx';\nimport { ModalCtx } from './context/ModalCtx';\nimport HomePage from './pages/HomePage';\nimport AboutPage from './pages/AboutPage';\nimport { DrawerRoute, ModalRoute } from './components/Route';\nimport { SiteDrawer } from './components/SiteDrawer';\nimport { Modal } from './components/Modal';\nimport './App.css';\n\nconst store = createStore({});\n\nfunction App() {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<Router>\n\t\t\t\t<div className=\"App\">\n\t\t\t\t\t<InPageCtx>\n\t\t\t\t\t\t<div className=\"Page\">\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route path=\"/\" exact>\n\t\t\t\t\t\t\t\t\t<HomePage />\n\t\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t\t<Route path=\"/about\" exact>\n\t\t\t\t\t\t\t\t\t<AboutPage />\n\t\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</InPageCtx>\n\t\t\t\t\t<SiteDrawerCtx>\n\t\t\t\t\t\t<SiteDrawer>\n\t\t\t\t\t\t\t<DrawerRoute path=\"/\" exact component={HomePage} />\n\t\t\t\t\t\t\t<DrawerRoute path=\"/about\" exact component={AboutPage} />\n\t\t\t\t\t\t</SiteDrawer>\n\t\t\t\t\t</SiteDrawerCtx>\n\t\t\t\t\t<ModalCtx>\n\t\t\t\t\t\t<Modal>\n\t\t\t\t\t\t\t<ModalRoute path=\"/\" exact component={HomePage} />\n\t\t\t\t\t\t\t<ModalRoute path=\"/about\" exact component={AboutPage} />\n\t\t\t\t\t\t</Modal>\n\t\t\t\t\t</ModalCtx>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t</Provider>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}